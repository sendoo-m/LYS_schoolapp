{% extends 'students/base.html' %}

{% block title %}Expenses by Student{% endblock %}

{% block content %}
  <h1>Expenses by Student</h1>
  <form method="GET">
    <label for="student_id">Select a Student:</label>
    <select id="student_id" name="student_id">
      {% for student in students %}
        <option value="{{ student.id }}">{{ student.full_name }}</option>
      {% endfor %}
    </select>
    <button type="submit">Get Report</button>
  </form>

  {% if expenses %}
    <h2>Expenses for {{ student.full_name }}</h2>
    <ul>
      {% for expense in expenses %}
        <li>{{ expense.description }} - ${{ expense.amount }}</li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No expenses found for this student.</p>
  {% endif %}


  <h1>Daily Report - {{ report_date }}</h1>
    <table>
        <thead>
            <tr>
                <th>Student Name</th>
                <th>Payment Date</th>
            </tr>
        </thead>
        <tbody>
            {% for student in paid_students %}
                <tr>
                    <td>{{ student.name }}</td>
                    <td>{{ student.payment_date }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
